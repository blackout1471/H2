<!DOCTYPE html>
<html>
	<head>
		<title>BMI</title>
	</head>
	<body>
		<img src="Bmipic.png"></img>
		<form name="bmi-calculator-form" action="#" onsubmit="return OnCalculateBMI()" method="GET">
			Weight: <input type="text" name="weight-form" required>kg<br /><br />
			Height: <input type="text" name="height-form" required>m<br /><br />
			<input type="submit" value="Caluclate">
		</form>
		
		<div id="color-ob" style="width: 50px; height: 50px; background-color:white;"/>
		
		<script>
		
			function CalculateBMI(weight, height) {
				return weight / (height * height);
			};
			
			function ValidateBMIForm() {
				var f = document.forms["bmi-calculator-form"];
				var fh = f["height-form"].value;
				var fw = f["weight-form"].value;
				
				var fhp = parseFloat(fh);
				var fwp = parseFloat(fw);
				
				if (isNaN(fhp) || isNaN(fwp))
				{
					alert("Weight or height wasn't float based");
					return false;
				}
				
				if (fhp < 0.5 || fhp > 2.5 || fwp < 5 || fwp > 250)
				{
					alert("Unreal values were used for weight or height");
					return false;
				}
				
				return true;
			};
			
			function SetBackgroundColor(bmi){
				var f = document.getElementById("color-ob");
				
				if (bmi >= 40)
				{
					f.style.backgroundColor = "red";
					console.log("1");
				}
				else if (bmi >= 35)
				{
					f.style.backgroundColor = "orange";
					console.log("2");
				}
				else if (bmi >= 24)
				{
					f.style.backgroundColor = "Chartreuse";
					console.log("3");
				}
				else if (bmi >= 18.5)
				{
					f.style.backgroundColor = "green";
					console.log("4");
				}
				else if (bmi >= 16)
				{
					f.style.backgroundColor = "blue";
					console.log("5");
				}
				else
				{
					f.style.backgroundColor = "white";
					console.log("6");
				}
			};
			
			function OnCalculateBMI() {
				var validated = ValidateBMIForm();
				
				if (validated == false)
					return false;
			
				var f = document.forms["bmi-calculator-form"];
				var fh = f["height-form"].value;
				var fw = f["weight-form"].value;
				
				var fhp = parseFloat(fh);
				var fwp = parseFloat(fw);
				
				
				var res = CalculateBMI(fwp, fhp);
				
				console.log(res);
				
				SetBackgroundColor(res);
				
				return false;			
			};
		</script>
	</body>
</html>